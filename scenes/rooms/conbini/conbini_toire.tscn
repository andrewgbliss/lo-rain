[gd_scene load_steps=41 format=3 uid="uid://qscq5xrabihu"]

[ext_resource type="Script" uid="uid://cvxcabec87t10" path="res://scenes/rooms/room.gd" id="1_whu6d"]
[ext_resource type="Texture2D" uid="uid://csyyadahxnol8" path="res://assets/img/rooms/conbini/ToireBgBg.png" id="4_7qity"]
[ext_resource type="Texture2D" uid="uid://bo62fhnngqmah" path="res://assets/img/rooms/conbini/ToireBg.png" id="4_b1w40"]
[ext_resource type="Script" uid="uid://ucmcws1e11dk" path="res://blisscode/interaction/hotspot/bt_hotspot.gd" id="4_dhf11"]
[ext_resource type="Texture2D" uid="uid://cwnxkcy2tojd5" path="res://assets/img/rooms/conbini/Toire.png" id="4_tve4y"]
[ext_resource type="Script" uid="uid://b3mlg2cpf7tdl" path="res://scripts/behavior_tree/bt_player.gd" id="6_go8mx"]
[ext_resource type="Script" uid="uid://xwbo18yggp15" path="res://scripts/behavior_tree/composite/bt_sequence_node.gd" id="7_yjayg"]
[ext_resource type="Script" uid="uid://b313o35j8fx8r" path="res://scripts/behavior_tree/action/bt_check_text_parser.gd" id="8_go8mx"]
[ext_resource type="Script" uid="uid://dwsxptr6cy741" path="res://scripts/behavior_tree/action/bt_play_dialogue.gd" id="8_vsuqp"]
[ext_resource type="Script" uid="uid://dnm2cmvm2uh0v" path="res://scripts/behavior_tree/composite/bt_selector_node.gd" id="8_yjayg"]
[ext_resource type="Texture2D" uid="uid://rykwx4g2p3oa" path="res://assets/img/rooms/conbini/ToireStorageDoor.png" id="9_7qity"]
[ext_resource type="Script" uid="uid://bnavkv7jftkbp" path="res://scripts/behavior_tree/action/bt_play_animation.gd" id="9_dhf11"]
[ext_resource type="Texture2D" uid="uid://bsj4allkvcsn8" path="res://assets/img/rooms/conbini/WomensDoor.png" id="10_k4u64"]
[ext_resource type="Texture2D" uid="uid://c8k8b3oevmrpi" path="res://assets/img/rooms/conbini/MensDoor.png" id="11_lvgig"]
[ext_resource type="Script" uid="uid://cvdi0smytgl47" path="res://scripts/behavior_tree/condition/bt_is_room_state.gd" id="12_ps4ya"]
[ext_resource type="Texture2D" uid="uid://cfdnc1a3wgib0" path="res://assets/img/rooms/conbini/button-code-paper.png" id="12_vsuqp"]
[ext_resource type="Script" uid="uid://j8h3bxlf5jgl" path="res://scripts/behavior_tree/action/bt_add_to_inventory.gd" id="13_76rjh"]
[ext_resource type="Resource" uid="uid://b0oojt4mwwajl" path="res://data/items/button_code_paper.tres" id="14_asnxn"]
[ext_resource type="Script" uid="uid://catw0b2ck2r1w" path="res://scripts/behavior_tree/action/bt_set_room_state.gd" id="14_o2hcb"]
[ext_resource type="Script" uid="uid://d1w5lk06ps5cp" path="res://scripts/behavior_tree/action/bt_remove_node.gd" id="16_asnxn"]
[ext_resource type="PackedScene" uid="uid://6cobcq10e24w" path="res://scenes/characters/stan_the_man/stan_the_man.tscn" id="30_4sh7x"]
[ext_resource type="Texture2D" uid="uid://btc5qb75hrohs" path="res://assets/img/rooms/conbini/Window.png" id="31_47nih"]
[ext_resource type="Script" uid="uid://mn4wdeeplo2" path="res://scripts/areas/room_door.gd" id="35_qwl5s"]
[ext_resource type="Script" uid="uid://qia23iggn1qa" path="res://scenes/autoload/spawn_manager/spawn_position.gd" id="36_kjnd8"]

[sub_resource type="Environment" id="Environment_vovsb"]
background_mode = 3
glow_enabled = true
glow_intensity = 2.06
glow_bloom = 0.58

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dhf11"]
size = Vector2(16, 23)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iei60"]
size = Vector2(49, 29)

[sub_resource type="Animation" id="Animation_k4u64"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D:collision_layer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(2, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StaticBody2D:collision_mask")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ToireStorageDoor:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-4, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ToireStorageDoor:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_lvgig"]
resource_name = "close"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D:collision_layer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(2, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StaticBody2D:collision_mask")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ToireStorageDoor:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-28, -0.25, 0, 0.25, 0, -4, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ToireStorageDoor:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-13, -0.25, 0, 0.25, 0, -13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}

[sub_resource type="Animation" id="Animation_7qity"]
resource_name = "open"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D:collision_layer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StaticBody2D:collision_mask")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0.5)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ToireStorageDoor:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-4, -0.25, 0, 0.25, 0, -28, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(2.98023e-08, 0.5)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ToireStorageDoor:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-13, -0.25, 0, 0.25, 0, -13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(2.98023e-08, 0.5)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lvgig"]
_data = {
&"RESET": SubResource("Animation_k4u64"),
&"close": SubResource("Animation_lvgig"),
&"open": SubResource("Animation_7qity")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kjnd8"]
size = Vector2(23, 39)

[sub_resource type="CircleShape2D" id="CircleShape2D_dhf11"]
radius = 109.073

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k4u64"]
size = Vector2(29, 20)

[sub_resource type="Animation" id="Animation_ps4ya"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MensDoor:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("MensDoor:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_vsuqp"]
resource_name = "open"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MensDoor:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("MensDoor:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, -15, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jsi6j"]
_data = {
&"RESET": SubResource("Animation_ps4ya"),
&"open": SubResource("Animation_vsuqp")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_jdebh"]
atlas = ExtResource("4_tve4y")
region = Rect2(75, 43, 182, 86)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pwru7"]
size = Vector2(37, 14)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qxxr3"]
size = Vector2(37, 14)

[node name="ConbiniToire" type="Node2D" node_paths=PackedStringArray("camera", "player")]
script = ExtResource("1_whu6d")
camera = NodePath("Camera2D")
player = NodePath("StanTheMan")
descriptions = Dictionary[String, Array]({
"room": ["You are in the back room of the store. You see a storage room, men's and women's bathroom."]
})
room_state = Dictionary[String, bool]({
"doorbroke": false
})

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0195, 0.0323917, 0.13, 0.360784)
metadata/_edit_use_anchors_ = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vovsb")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(2, -19)
zoom = Vector2(2, 2)

[node name="ToireBg" type="Sprite2D" parent="."]
z_index = -15
position = Vector2(-4, -13)
texture = ExtResource("4_b1w40")

[node name="Bg" type="Sprite2D" parent="."]
z_index = -5
position = Vector2(-4, -13)
texture = ExtResource("4_7qity")

[node name="BTHotspotButtonPanel" type="Area2D" parent="." node_paths=PackedStringArray("actions")]
position = Vector2(-4, -13)
script = ExtResource("4_dhf11")
hotspot_id = "buttons|panel|red|green|blue|purple|pink"
actions = {
"look": NodePath("BTPlayerLook"),
"press": NodePath("BTPlayerPress")
}
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="CollisionShape2D" type="CollisionShape2D" parent="BTHotspotButtonPanel"]
position = Vector2(-41, -0.5)
shape = SubResource("RectangleShape2D_dhf11")

[node name="BTPlayerLook" type="Node" parent="BTHotspotButtonPanel" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSequenceNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSequenceNode" type="Node" parent="BTHotspotButtonPanel/BTPlayerLook"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotButtonPanel/BTPlayerLook/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You see a panel of buttons. You wonder what is in that room."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTPlayerPress" type="Node" parent="BTHotspotButtonPanel" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSelectorNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSelectorNode" type="Node" parent="BTHotspotButtonPanel/BTPlayerPress"]
script = ExtResource("8_yjayg")
metadata/_custom_type_script = "uid://dnm2cmvm2uh0v"

[node name="BTSequenceNode" type="Node" parent="BTHotspotButtonPanel/BTPlayerPress/BTSelectorNode"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTCheckTextParser" type="Node" parent="BTHotspotButtonPanel/BTPlayerPress/BTSelectorNode/BTSequenceNode"]
script = ExtResource("8_go8mx")
text = "press red green red blue"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotButtonPanel/BTPlayerPress/BTSelectorNode/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You pressed the correct buttons!"
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTPlayAnimation" type="Node" parent="BTHotspotButtonPanel/BTPlayerPress/BTSelectorNode/BTSequenceNode" node_paths=PackedStringArray("animation_player")]
script = ExtResource("9_dhf11")
animation_player = NodePath("../../../../../BTHotspotStorageDoor/AnimationPlayer")
animation_name = "open"
metadata/_custom_type_script = "uid://bnavkv7jftkbp"

[node name="BTSequenceNode2" type="Node" parent="BTHotspotButtonPanel/BTPlayerPress/BTSelectorNode"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotButtonPanel/BTPlayerPress/BTSelectorNode/BTSequenceNode2"]
script = ExtResource("8_vsuqp")
text = "You press the buttons. But nothing happens."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTHotspotStorageDoor" type="Area2D" parent="."]
collision_layer = 32
script = ExtResource("4_dhf11")
hotspot_id = "storage|door"
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="ToireStorageDoor" type="Sprite2D" parent="BTHotspotStorageDoor"]
z_index = -10
position = Vector2(-4, -13)
texture = ExtResource("9_7qity")

[node name="CollisionShape2D" type="CollisionShape2D" parent="BTHotspotStorageDoor"]
position = Vector2(-54.5, -11.5)
shape = SubResource("RectangleShape2D_iei60")

[node name="AnimationPlayer" type="AnimationPlayer" parent="BTHotspotStorageDoor"]
libraries = {
&"": SubResource("AnimationLibrary_lvgig")
}

[node name="StaticBody2D" type="StaticBody2D" parent="BTHotspotStorageDoor"]
position = Vector2(-66, -16)
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="BTHotspotStorageDoor/StaticBody2D"]
position = Vector2(0.5, -11.5)
shape = SubResource("RectangleShape2D_kjnd8")

[node name="BTHotspotStorageDoorLook" type="Area2D" parent="." node_paths=PackedStringArray("actions")]
collision_layer = 32
script = ExtResource("4_dhf11")
hotspot_id = "storage|door"
actions = {
"look": NodePath("BTPlayerLook")
}
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="CollisionShape2D" type="CollisionShape2D" parent="BTHotspotStorageDoorLook"]
position = Vector2(-12, -10)
shape = SubResource("CircleShape2D_dhf11")

[node name="BTPlayerLook" type="Node" parent="BTHotspotStorageDoorLook" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSequenceNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSequenceNode" type="Node" parent="BTHotspotStorageDoorLook/BTPlayerLook"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotStorageDoorLook/BTPlayerLook/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You see a door with a keypad next to it. Probably for employees."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTHotspotMensDoor" type="Area2D" parent="." node_paths=PackedStringArray("actions")]
position = Vector2(-4, -13)
collision_layer = 32
script = ExtResource("4_dhf11")
hotspot_id = "bathroom|door"
adjectives = "men|mens"
actions = {
"open": NodePath("BTPlayerOpen")
}
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="BTHotspotPaper" type="Area2D" parent="BTHotspotMensDoor" node_paths=PackedStringArray("actions")]
script = ExtResource("4_dhf11")
hotspot_id = "paper|note|scrap"
actions = {
"look": NodePath("BTPlayerLook"),
"take": NodePath("BTPlayerTake")
}
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="ButtonCodePaper" type="Sprite2D" parent="BTHotspotMensDoor/BTHotspotPaper"]
z_index = -11
position = Vector2(-12, 2)
texture = ExtResource("12_vsuqp")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="BTHotspotMensDoor/BTHotspotPaper"]
position = Vector2(-13.5, 0)
shape = SubResource("RectangleShape2D_k4u64")

[node name="BTPlayerLook" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSelectorNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSelectorNode" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerLook"]
script = ExtResource("8_yjayg")
metadata/_custom_type_script = "uid://dnm2cmvm2uh0v"

[node name="BTSequenceNode" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerLook/BTSelectorNode"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTIsRoomState" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerLook/BTSelectorNode/BTSequenceNode" node_paths=PackedStringArray("room")]
script = ExtResource("12_ps4ya")
room = NodePath("../../../../../..")
state_key = "doorbrake"
expected_value = true
metadata/_custom_type_script = "uid://cvdi0smytgl47"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerLook/BTSelectorNode/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You see a piece of paper on the ground."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTSequenceNode2" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerLook/BTSelectorNode"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayDialogue2" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerLook/BTSelectorNode/BTSequenceNode2"]
script = ExtResource("8_vsuqp")
text = "You don't see any $object"
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTPlayerTake" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSelectorNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSelectorNode" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake"]
script = ExtResource("8_yjayg")
metadata/_custom_type_script = "uid://dnm2cmvm2uh0v"

[node name="BTSequenceNode" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake/BTSelectorNode"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTIsRoomState" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake/BTSelectorNode/BTSequenceNode" node_paths=PackedStringArray("room")]
script = ExtResource("12_ps4ya")
room = NodePath("../../../../../..")
state_key = "doorbrake"
expected_value = true
metadata/_custom_type_script = "uid://cvdi0smytgl47"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake/BTSelectorNode/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You take the piece of paper."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTAddToInventory" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake/BTSelectorNode/BTSequenceNode"]
script = ExtResource("13_76rjh")
item = ExtResource("14_asnxn")
metadata/_custom_type_script = "uid://j8h3bxlf5jgl"

[node name="BTRemoveNode" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake/BTSelectorNode/BTSequenceNode"]
script = ExtResource("16_asnxn")
node_path = NodePath("../../../..")
metadata/_custom_type_script = "uid://d1w5lk06ps5cp"

[node name="BTSequenceNode2" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake/BTSelectorNode"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayDialogue2" type="Node" parent="BTHotspotMensDoor/BTHotspotPaper/BTPlayerTake/BTSelectorNode/BTSequenceNode2"]
script = ExtResource("8_vsuqp")
text = "You don't see any $object"
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="MensDoor" type="Sprite2D" parent="BTHotspotMensDoor"]
z_index = -11
texture = ExtResource("11_lvgig")

[node name="CollisionShape2D" type="CollisionShape2D" parent="BTHotspotMensDoor"]
position = Vector2(-13.5, 0)
shape = SubResource("RectangleShape2D_k4u64")

[node name="AnimationPlayer" type="AnimationPlayer" parent="BTHotspotMensDoor"]
libraries = {
&"": SubResource("AnimationLibrary_jsi6j")
}

[node name="BTPlayerOpen" type="Node" parent="BTHotspotMensDoor" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSequenceNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSequenceNode" type="Node" parent="BTHotspotMensDoor/BTPlayerOpen"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayAnimation" type="Node" parent="BTHotspotMensDoor/BTPlayerOpen/BTSequenceNode" node_paths=PackedStringArray("animation_player")]
script = ExtResource("9_dhf11")
animation_player = NodePath("../../../AnimationPlayer")
animation_name = "open"
metadata/_custom_type_script = "uid://bnavkv7jftkbp"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotMensDoor/BTPlayerOpen/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "As you open the door you hear a loud crack. The door seems to be broken."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTPlayDialogue2" type="Node" parent="BTHotspotMensDoor/BTPlayerOpen/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You see a little piece of paper on the ground."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="BTSetRoomState" type="Node" parent="BTHotspotMensDoor/BTPlayerOpen/BTSequenceNode" node_paths=PackedStringArray("room")]
script = ExtResource("14_o2hcb")
room = NodePath("../../../..")
state_key = "doorbrake"
state_value = true
metadata/_custom_type_script = "uid://catw0b2ck2r1w"

[node name="BTHotspotMensDoorLook" type="Area2D" parent="." node_paths=PackedStringArray("actions")]
collision_layer = 32
script = ExtResource("4_dhf11")
hotspot_id = "bathroom|door"
adjectives = "men|mens"
actions = {
"look": NodePath("BTPlayerLook")
}
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="CollisionShape2D" type="CollisionShape2D" parent="BTHotspotMensDoorLook"]
position = Vector2(-12, -10)
shape = SubResource("CircleShape2D_dhf11")

[node name="BTPlayerLook" type="Node" parent="BTHotspotMensDoorLook" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSequenceNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSequenceNode" type="Node" parent="BTHotspotMensDoorLook/BTPlayerLook"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotMensDoorLook/BTPlayerLook/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You see the men's bathroom. You have to buy something first to use it."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="WomensDoor" type="Sprite2D" parent="."]
z_index = -11
position = Vector2(-4, -13)
texture = ExtResource("10_k4u64")

[node name="BTHotspotWomensDoorLook" type="Area2D" parent="." node_paths=PackedStringArray("actions")]
collision_layer = 32
script = ExtResource("4_dhf11")
hotspot_id = "bathroom|door"
adjectives = "women|womens"
actions = {
"look": NodePath("BTPlayerLook")
}
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="CollisionShape2D" type="CollisionShape2D" parent="BTHotspotWomensDoorLook"]
position = Vector2(-12, -10)
shape = SubResource("CircleShape2D_dhf11")

[node name="BTPlayerLook" type="Node" parent="BTHotspotWomensDoorLook" node_paths=PackedStringArray("root_node")]
script = ExtResource("6_go8mx")
root_node = NodePath("BTSequenceNode")
one_shot = true
metadata/_custom_type_script = "uid://b3mlg2cpf7tdl"

[node name="BTSequenceNode" type="Node" parent="BTHotspotWomensDoorLook/BTPlayerLook"]
script = ExtResource("7_yjayg")
metadata/_custom_type_script = "uid://xwbo18yggp15"

[node name="BTPlayDialogue" type="Node" parent="BTHotspotWomensDoorLook/BTPlayerLook/BTSequenceNode"]
script = ExtResource("8_vsuqp")
text = "You see the women's bathroom door."
metadata/_custom_type_script = "uid://dwsxptr6cy741"

[node name="Toire" type="Sprite2D" parent="."]
position = Vector2(2, -17)
texture = SubResource("AtlasTexture_jdebh")

[node name="StanTheMan" parent="." instance=ExtResource("30_4sh7x")]
position = Vector2(1, 0)
scale_factor = 100.0
scale_factor_max = 0.8

[node name="Window" type="Sprite2D" parent="."]
position = Vector2(2, -19)
texture = ExtResource("31_47nih")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
collision_layer = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PackedVector2Array(-68, 14, -89, -7, -78, -7, -78, -13, -54, -13, -54, -7, 60, -7, 93, 26, 94, 40, 100, 40, 99, -78, -107, -76, -105, 38, 53, 39, 53, 25, 40, 15)

[node name="RoomDoor1" type="Area2D" parent="." node_paths=PackedStringArray("spawn_position")]
position = Vector2(-32, 41)
collision_layer = 64
script = ExtResource("35_qwl5s")
door_id = "1"
goto_door_id = "2"
scene_path = "res://scenes/rooms/conbini/conbini_inside_front.tscn"
spawn_position = NodePath("SpawnPosition")
metadata/_custom_type_script = "uid://mn4wdeeplo2"

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomDoor1"]
position = Vector2(105.5, -9)
shape = SubResource("RectangleShape2D_pwru7")

[node name="SpawnPosition" type="Node2D" parent="RoomDoor1"]
position = Vector2(99, -24)
script = ExtResource("36_kjnd8")
metadata/_custom_type_script = "uid://qia23iggn1qa"

[node name="RoomDoor2" type="Area2D" parent="." node_paths=PackedStringArray("spawn_position")]
position = Vector2(-69, -18)
collision_layer = 64
script = ExtResource("35_qwl5s")
door_id = "2"
goto_door_id = "1"
scene_path = "res://scenes/rooms/conbini/conbini_storage.tscn"
spawn_position = NodePath("SpawnPosition")
metadata/_custom_type_script = "uid://mn4wdeeplo2"

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomDoor2"]
position = Vector2(3, 1)
shape = SubResource("RectangleShape2D_qxxr3")

[node name="SpawnPosition" type="Node2D" parent="RoomDoor2"]
position = Vector2(8, 18)
script = ExtResource("36_kjnd8")
metadata/_custom_type_script = "uid://qia23iggn1qa"
