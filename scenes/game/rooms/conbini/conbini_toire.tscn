[gd_scene format=3 uid="uid://qscq5xrabihu"]

[ext_resource type="Script" uid="uid://cvxcabec87t10" path="res://scenes/core/room/room.gd" id="1_whu6d"]
[ext_resource type="Texture2D" uid="uid://csyyadahxnol8" path="res://assets/img/rooms/conbini/ToireBgBg.png" id="4_7qity"]
[ext_resource type="Texture2D" uid="uid://bo62fhnngqmah" path="res://assets/img/rooms/conbini/ToireBg.png" id="4_b1w40"]
[ext_resource type="Script" uid="uid://ucmcws1e11dk" path="res://scenes/core/interaction/hotspot/hotspot.gd" id="4_dhf11"]
[ext_resource type="Texture2D" uid="uid://cwnxkcy2tojd5" path="res://assets/img/rooms/conbini/Toire.png" id="4_tve4y"]
[ext_resource type="Script" uid="uid://bbq6w0uiw0v74" path="res://scenes/core/interaction/hotspot/hotspot_in_range.gd" id="5_eryup"]
[ext_resource type="Texture2D" uid="uid://rykwx4g2p3oa" path="res://assets/img/rooms/conbini/ToireStorageDoor.png" id="9_7qity"]
[ext_resource type="Texture2D" uid="uid://bsj4allkvcsn8" path="res://assets/img/rooms/conbini/WomensDoor.png" id="10_k4u64"]
[ext_resource type="Texture2D" uid="uid://c8k8b3oevmrpi" path="res://assets/img/rooms/conbini/MensDoor.png" id="11_lvgig"]
[ext_resource type="Texture2D" uid="uid://cfdnc1a3wgib0" path="res://assets/img/rooms/conbini/button-code-paper.png" id="12_vsuqp"]
[ext_resource type="Texture2D" uid="uid://btc5qb75hrohs" path="res://assets/img/rooms/conbini/Window.png" id="31_47nih"]
[ext_resource type="Script" uid="uid://mn4wdeeplo2" path="res://scenes/core/areas/room_door.gd" id="35_qwl5s"]
[ext_resource type="Script" uid="uid://qia23iggn1qa" path="res://scenes/core/spawn/spawn_position.gd" id="36_kjnd8"]

[sub_resource type="AtlasTexture" id="AtlasTexture_jdebh"]
atlas = ExtResource("4_tve4y")
region = Rect2(75, 43, 182, 86)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dhf11"]
size = Vector2(16, 23)

[sub_resource type="Animation" id="Animation_k4u64"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D:collision_layer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(2, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StaticBody2D:collision_mask")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ToireStorageDoor:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-4, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ToireStorageDoor:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(-13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_lvgig"]
resource_name = "close"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D:collision_layer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(2, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StaticBody2D:collision_mask")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ToireStorageDoor:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-28, -0.25, 0, 0.25, 0, -4, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ToireStorageDoor:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-13, -0.25, 0, 0.25, 0, -13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}

[sub_resource type="Animation" id="Animation_7qity"]
resource_name = "open"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("StaticBody2D:collision_layer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("StaticBody2D:collision_mask")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0.5)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ToireStorageDoor:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-4, -0.25, 0, 0.25, 0, -28, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(2.98023e-08, 0.5)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ToireStorageDoor:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-13, -0.25, 0, 0.25, 0, -13, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(2.98023e-08, 0.5)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lvgig"]
_data = {
&"RESET": SubResource("Animation_k4u64"),
&"close": SubResource("Animation_lvgig"),
&"open": SubResource("Animation_7qity")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kjnd8"]
size = Vector2(23, 39)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_iei60"]
size = Vector2(49, 29)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k4u64"]
size = Vector2(29, 20)

[sub_resource type="Animation" id="Animation_ps4ya"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MensDoor:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("MensDoor:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_vsuqp"]
resource_name = "open"
length = 0.5
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("MensDoor:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("MensDoor:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, -15, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jsi6j"]
_data = {
&"RESET": SubResource("Animation_ps4ya"),
&"open": SubResource("Animation_vsuqp")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_dhf11"]
radius = 109.073

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pwru7"]
size = Vector2(37, 14)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qxxr3"]
size = Vector2(37, 14)

[node name="ConbiniToire" type="Node2D" unique_id=662316878 node_paths=PackedStringArray("camera")]
script = ExtResource("1_whu6d")
room_name = "conbini_toire"
camera = NodePath("Camera2D")

[node name="ToireBg" type="Sprite2D" parent="." unique_id=1504179251]
z_index = -15
position = Vector2(-4, -13)
texture = ExtResource("4_b1w40")

[node name="Bg" type="Sprite2D" parent="." unique_id=357546548]
z_index = -5
position = Vector2(-4, -13)
texture = ExtResource("4_7qity")

[node name="Toire" type="Sprite2D" parent="." unique_id=1729079068]
position = Vector2(2, -17)
texture = SubResource("AtlasTexture_jdebh")

[node name="Window" type="Sprite2D" parent="." unique_id=2123755799]
position = Vector2(2, -19)
texture = ExtResource("31_47nih")

[node name="Hotspots" type="Node2D" parent="." unique_id=171570772]

[node name="ButtonPanel" type="Node2D" parent="Hotspots" unique_id=1240450445]
position = Vector2(-4, -13)
script = ExtResource("4_dhf11")
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="HotspotInRange" type="Area2D" parent="Hotspots/ButtonPanel" unique_id=566231869]
script = ExtResource("5_eryup")
metadata/_custom_type_script = "uid://bbq6w0uiw0v74"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hotspots/ButtonPanel/HotspotInRange" unique_id=78587779]
position = Vector2(-41, -0.5)
shape = SubResource("RectangleShape2D_dhf11")

[node name="StorageDoor" type="Node2D" parent="Hotspots" unique_id=1918567173]
script = ExtResource("4_dhf11")
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="ToireStorageDoor" type="Sprite2D" parent="Hotspots/StorageDoor" unique_id=1147713438]
z_index = -10
position = Vector2(-4, -13)
texture = ExtResource("9_7qity")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Hotspots/StorageDoor" unique_id=332332070]
libraries/ = SubResource("AnimationLibrary_lvgig")

[node name="StaticBody2D" type="StaticBody2D" parent="Hotspots/StorageDoor" unique_id=1425020813]
position = Vector2(-66, -16)
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hotspots/StorageDoor/StaticBody2D" unique_id=111879027]
position = Vector2(0.5, -11.5)
shape = SubResource("RectangleShape2D_kjnd8")

[node name="HotspotInRange" type="Area2D" parent="Hotspots/StorageDoor" unique_id=1843294447]
script = ExtResource("5_eryup")
metadata/_custom_type_script = "uid://bbq6w0uiw0v74"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hotspots/StorageDoor/HotspotInRange" unique_id=1073794480]
position = Vector2(-54.5, -11.5)
shape = SubResource("RectangleShape2D_iei60")

[node name="Paper" type="Node2D" parent="Hotspots" unique_id=1559221966]
position = Vector2(-4, -13)
script = ExtResource("4_dhf11")
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="ButtonCodePaper" type="Sprite2D" parent="Hotspots/Paper" unique_id=495778944]
z_index = -11
position = Vector2(-12, 2)
texture = ExtResource("12_vsuqp")

[node name="HotspotInRange" type="Area2D" parent="Hotspots/Paper" unique_id=2054343028]
script = ExtResource("5_eryup")
metadata/_custom_type_script = "uid://bbq6w0uiw0v74"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hotspots/Paper/HotspotInRange" unique_id=266668178]
position = Vector2(-13.5, 0)
shape = SubResource("RectangleShape2D_k4u64")

[node name="MensDoor" type="Node2D" parent="Hotspots" unique_id=2066744734]
position = Vector2(-4, -13)
script = ExtResource("4_dhf11")
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="MensDoor" type="Sprite2D" parent="Hotspots/MensDoor" unique_id=922238188]
z_index = -11
texture = ExtResource("11_lvgig")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Hotspots/MensDoor" unique_id=183225430]
libraries/ = SubResource("AnimationLibrary_jsi6j")

[node name="HotspotInRange" type="Area2D" parent="Hotspots/MensDoor" unique_id=838432058]
script = ExtResource("5_eryup")
metadata/_custom_type_script = "uid://bbq6w0uiw0v74"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hotspots/MensDoor/HotspotInRange" unique_id=882858796]
position = Vector2(-13.5, 0)
shape = SubResource("RectangleShape2D_k4u64")

[node name="WomensDoor" type="Node2D" parent="Hotspots" unique_id=1222489580]
script = ExtResource("4_dhf11")
metadata/_custom_type_script = "uid://ucmcws1e11dk"

[node name="WomensDoor" type="Sprite2D" parent="Hotspots/WomensDoor" unique_id=786066910]
z_index = -11
position = Vector2(-4, -13)
texture = ExtResource("10_k4u64")

[node name="HotspotInRange" type="Area2D" parent="Hotspots/WomensDoor" unique_id=660976447]
script = ExtResource("5_eryup")
metadata/_custom_type_script = "uid://bbq6w0uiw0v74"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hotspots/WomensDoor/HotspotInRange" unique_id=343802231]
position = Vector2(-12, -10)
shape = SubResource("CircleShape2D_dhf11")

[node name="RoomDoors" type="Node2D" parent="." unique_id=293940503]

[node name="RoomDoor1" type="Area2D" parent="RoomDoors" unique_id=962327855 node_paths=PackedStringArray("spawn_position")]
position = Vector2(-32, 41)
collision_layer = 64
script = ExtResource("35_qwl5s")
door_id = "1"
goto_door_id = "2"
scene_path = "res://scenes/game/rooms/conbini/conbini_inside_front.tscn"
spawn_position = NodePath("SpawnPosition")
metadata/_custom_type_script = "uid://mn4wdeeplo2"

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomDoors/RoomDoor1" unique_id=384834564]
position = Vector2(105.5, -9)
shape = SubResource("RectangleShape2D_pwru7")

[node name="SpawnPosition" type="Node2D" parent="RoomDoors/RoomDoor1" unique_id=1452998948]
position = Vector2(99, -24)
script = ExtResource("36_kjnd8")
metadata/_custom_type_script = "uid://qia23iggn1qa"

[node name="RoomDoor2" type="Area2D" parent="RoomDoors" unique_id=1149531505 node_paths=PackedStringArray("spawn_position")]
position = Vector2(-69, -18)
collision_layer = 64
script = ExtResource("35_qwl5s")
door_id = "2"
goto_door_id = "1"
scene_path = "res://scenes/game/rooms/conbini/conbini_back.tscn"
spawn_position = NodePath("SpawnPosition")
metadata/_custom_type_script = "uid://mn4wdeeplo2"

[node name="CollisionShape2D" type="CollisionShape2D" parent="RoomDoors/RoomDoor2" unique_id=1275938974]
position = Vector2(3, 1)
shape = SubResource("RectangleShape2D_qxxr3")

[node name="SpawnPosition" type="Node2D" parent="RoomDoors/RoomDoor2" unique_id=1310660278]
position = Vector2(8, 18)
script = ExtResource("36_kjnd8")
metadata/_custom_type_script = "uid://qia23iggn1qa"

[node name="StaticBody2D" type="StaticBody2D" parent="." unique_id=161862977]
collision_layer = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D" unique_id=2026420329]
polygon = PackedVector2Array(-68, 14, -89, -7, -78, -7, -78, -13, -54, -13, -54, -7, 60, -7, 93, 26, 94, 40, 100, 40, 99, -78, -107, -76, -105, 38, 53, 39, 53, 25, 40, 15)

[node name="Camera2D" type="Camera2D" parent="." unique_id=1736694237]
position = Vector2(2, -19)
zoom = Vector2(2, 2)
